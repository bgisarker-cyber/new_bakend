{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Bgi-terminal-management/bgi-inverntory/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACZ,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACjB,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACvB,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACnB,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,kNAAC;QACC,aAAU;QACV,WAAW,IAAA,iJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///D:/Bgi-terminal-management/bgi-inverntory/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,kNAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,iJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///D:/Bgi-terminal-management/bgi-inverntory/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,KAGoC;QAHpC,EACb,SAAS,EACT,GAAG,OAC8C,GAHpC;IAIb,qBACE,kNAAC,iMAAmB;QAClB,aAAU;QACV,WAAW,IAAA,iJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///D:/Bgi-terminal-management/bgi-inverntory/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport * as React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport axios from \"axios\";\r\n\r\n// ==========================\r\n// ✅ Validation Schema\r\n// ==========================\r\nconst loginSchema = z.object({\r\n  email: z.string().email(\"Please enter a valid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters long\"),\r\n  role: z.enum([\"Superadmin\", \"Admin\", \"Support\"], {\r\n    required_error: \"Please select a role\",\r\n  }),\r\n});\r\n\r\ntype LoginFormValues = z.infer<typeof loginSchema>;\r\n\r\n// ==========================\r\n// ✅ Component\r\n// ==========================\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [error, setError] = React.useState(\"\");\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    watch,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm<LoginFormValues>({\r\n    resolver: zodResolver(loginSchema),\r\n    defaultValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n      role: undefined,\r\n    },\r\n  });\r\n\r\n  const selectedRole = watch(\"role\");\r\n\r\n  // ==========================\r\n  // ✅ Handle Form Submit\r\n  // ==========================\r\n  const onSubmit = async (data: LoginFormValues) => {\r\n    setError(\"\");\r\n    try {\r\n      const formData = new URLSearchParams();\r\n      formData.append(\"email\", data.email);\r\n      formData.append(\"password\", data.password);\r\n      formData.append(\"role\", data.role);\r\n\r\n      const response = await axios.post(\r\n        \"http://127.0.0.1:8000/auth/login\",\r\n        formData,\r\n        { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\r\n      );\r\n\r\n      // Save tokens & role\r\n      localStorage.setItem(\"access_token\", response.data.access_token);\r\n      localStorage.setItem(\"auth\", \"true\");\r\n      localStorage.setItem(\"role\", data.role);\r\n\r\n      // Redirect based on role\r\n      if (data.role === \"Superadmin\") router.push(\"/superadmin/dashboard\");\r\n      else if (data.role === \"Admin\") router.push(\"/admin/dashboard\");\r\n      else router.push(\"/support/dashboard\");\r\n    } catch (err: any) {\r\n      console.error(\"Login error:\", err);\r\n\r\n      if (err.message === \"Network Error\") {\r\n        setError(\"Cannot connect to the server. Make sure FastAPI is running.\");\r\n        return;\r\n      }\r\n\r\n      const detail = err.response?.data?.detail;\r\n      if (Array.isArray(detail)) {\r\n        const msg = detail.map((d: any) => d.msg).join(\", \");\r\n        setError(msg);\r\n      } else if (typeof detail === \"string\") {\r\n        setError(detail);\r\n      } else {\r\n        setError(\"Login failed. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // ==========================\r\n  // ✅ Render UI\r\n  // ==========================\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-muted\">\r\n      <Card className=\"w-full max-w-md shadow-lg border border-border\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-center text-2xl font-bold\">\r\n            Login\r\n          </CardTitle>\r\n        </CardHeader>\r\n\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\r\n            {/* Email */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"email\">Email</Label>\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"you@example.com\"\r\n                {...register(\"email\")}\r\n              />\r\n              {errors.email && (\r\n                <p className=\"text-sm text-red-500\">{errors.email.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Password */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"••••••••\"\r\n                {...register(\"password\")}\r\n              />\r\n              {errors.password && (\r\n                <p className=\"text-sm text-red-500\">{errors.password.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Role */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"role\">Role</Label>\r\n              <Select\r\n                onValueChange={(value) => setValue(\"role\", value as any)}\r\n                value={selectedRole}\r\n              >\r\n                <SelectTrigger className=\"w-full\">\r\n                  <SelectValue placeholder=\"Select your role\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"Superadmin\">Superadmin</SelectItem>\r\n                  <SelectItem value=\"Admin\">Admin</SelectItem>\r\n                  <SelectItem value=\"Support\">Support</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n              {errors.role && (\r\n                <p className=\"text-sm text-red-500\">{errors.role.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Login Button */}\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"w-full flex items-center justify-center gap-2 cursor-pointer\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? \"Signing in...\" : \"Sign In\"}\r\n            </Button>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n              <p className=\"text-red-500 text-center mt-2 font-medium\">\r\n                {error}\r\n              </p>\r\n            )}\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}