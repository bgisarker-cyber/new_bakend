{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/E_Slip/e-receipt/src/app/devices/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\n\r\n// TypeScript type for a device record\r\ntype Device = {\r\n  id: number;\r\n  tid: string;\r\n  mid: string;\r\n  merchant_name: string;\r\n  pos_serial: string;\r\n  model: string;\r\n  city: string;\r\n  location: string;\r\n  merchant_address: string;\r\n  telephone: string;\r\n  created_time: string;\r\n};\r\n\r\nconst DevicesPage = () => {\r\n  const [devices, setDevices] = useState<Device[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchDevices = async () => {\r\n      try {\r\n        const response = await fetch(\"http://127.0.0.1:8000/all-devices\");\r\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n        const data = await response.json();\r\n        setDevices(data.data); // Assuming API returns {\"data\": [...]}\r\n      } catch (err: any) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchDevices();\r\n  }, []);\r\n\r\n  // Define DataTable columns\r\n  const columns = [\r\n    {\r\n      name: \"SL\",\r\n      selector: (_row: Device, index: number) => index + 1,\r\n      width: \"80px\",\r\n      sortable: false,\r\n    },\r\n    { name: \"TID\", selector: (row: Device) => row.tid, sortable: true },\r\n    { name: \"MID\", selector: (row: Device) => row.mid, sortable: true },\r\n    { name: \"Merchant Name\", selector: (row: Device) => row.merchant_name, sortable: true },\r\n    { name: \"POS Serial\", selector: (row: Device) => row.pos_serial },\r\n    { name: \"Model\", selector: (row: Device) => row.model },\r\n    { name: \"City\", selector: (row: Device) => row.city },\r\n    { name: \"Location\", selector: (row: Device) => row.location },\r\n    { name: \"Address\", selector: (row: Device) => row.merchant_address },\r\n    { name: \"Telephone\", selector: (row: Device) => row.telephone },\r\n    {\r\n      name: \"Created Time\",\r\n      selector: (row: Device) => new Date(row.created_time).toLocaleString(),\r\n      sortable: true,\r\n    },\r\n  ];\r\n\r\n  if (loading) return <p>Loading devices...</p>;\r\n  if (error) return <p className=\"text-red-500\">Error: {error}</p>;\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">All Devices</h1>\r\n      <div className=\"bg-white rounded-lg shadow-md p-4\">\r\n        <DataTable\r\n          columns={columns}\r\n          data={devices}\r\n          pagination\r\n          highlightOnHover\r\n          striped\r\n          persistTableHead\r\n          defaultSortFieldId={1}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DevicesPage;\r\n"],"names":[],"mappings":";;;;;AAEA;;;;;;AAFA;;;;AAoBA,MAAM,cAAc;IAClB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;gBAC1E,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,WAAW,KAAK,IAAI,GAAG,uCAAuC;YAChE,EAAE,OAAO,KAAU;gBACjB,SAAS,IAAI,OAAO;YACtB,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,2BAA2B;IAC3B,MAAM,UAAU;QACd;YACE,MAAM;YACN,UAAU,CAAC,MAAc,QAAkB,QAAQ;YACnD,OAAO;YACP,UAAU;QACZ;QACA;YAAE,MAAM;YAAO,UAAU,CAAC,MAAgB,IAAI,GAAG;YAAE,UAAU;QAAK;QAClE;YAAE,MAAM;YAAO,UAAU,CAAC,MAAgB,IAAI,GAAG;YAAE,UAAU;QAAK;QAClE;YAAE,MAAM;YAAiB,UAAU,CAAC,MAAgB,IAAI,aAAa;YAAE,UAAU;QAAK;QACtF;YAAE,MAAM;YAAc,UAAU,CAAC,MAAgB,IAAI,UAAU;QAAC;QAChE;YAAE,MAAM;YAAS,UAAU,CAAC,MAAgB,IAAI,KAAK;QAAC;QACtD;YAAE,MAAM;YAAQ,UAAU,CAAC,MAAgB,IAAI,IAAI;QAAC;QACpD;YAAE,MAAM;YAAY,UAAU,CAAC,MAAgB,IAAI,QAAQ;QAAC;QAC5D;YAAE,MAAM;YAAW,UAAU,CAAC,MAAgB,IAAI,gBAAgB;QAAC;QACnE;YAAE,MAAM;YAAa,UAAU,CAAC,MAAgB,IAAI,SAAS;QAAC;QAC9D;YACE,MAAM;YACN,UAAU,CAAC,MAAgB,IAAI,KAAK,IAAI,YAAY,EAAE,cAAc;YACpE,UAAU;QACZ;KACD;IAED,IAAI,SAAS,qBAAO,8OAAC;kBAAE;;;;;;IACvB,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;;YAAe;YAAQ;;;;;;;IAEtD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,SAAS;oBACT,MAAM;oBACN,UAAU;oBACV,gBAAgB;oBAChB,OAAO;oBACP,gBAAgB;oBAChB,oBAAoB;;;;;;;;;;;;;;;;;AAK9B;uCAEe","debugId":null}}]
}